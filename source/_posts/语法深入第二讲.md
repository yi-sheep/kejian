---
title: 语法深入第二讲
date: 2022-01-09 16:32:02
tags: [教材,语法深入] 
categories: c++
---

# 第二讲

格式化输入：

scanf函数的功能是格式化输入任意数据列表，其一般调用格式为：

scanf(格式控制符，地址列表)

【说明】

地址列表中给出各变量的地址，可以是变量的地址，也可以是字符串的首地址。

格式控制符由%和格式符组成，作用是将要输入的字符按指定的格式输入，如%d，%c等。

| 格式符           | 说明                                                         |
| ---------------- | ------------------------------------------------------------ |
| d,i              | 用于输入十进制整数                                           |
| u                | 以无符号十进制形式输入十进制整数                             |
| o(字母)          | 用于输入八进制整数                                           |
| x                | 用于输入十六进制整数                                         |
| c                | 用于输入单个字符                                             |
| s                | 用于输入字符串（非空格开始，空格结束，字符串变量以'\0'结尾） |
| f                | 用于输入实数（小数或指数均可)                                |
| e                | 与f相同                                                      |
| l(字母)          | 用于输入长整型（%ld、%lo、%lx）或double型实数（%lf、%le)     |
| h                | 用于输入短整形（%hd、%ho、%hx）                              |
| 域宽（一个整数） | 指定输入所占列宽                                             |
| *                | 表示对应输入值不赋给一个变量                                 |

例1：*格式符的使用

```c++
#include<iostream>
using namespace std;
int main()
{
  int a, b;
  scanf("%d%*d%d", &a, &b);
  cout << "a= " << a << "b= " << b;
}
```

例2：域宽格式符的使用

```c++
#include<iostream>
using namespace std;
int main()
{
  int a, b;
  scanf("%4d%4d", &a, &b);
  cout << "a= " << a << "b= " << b;
}
```

例3：%s格式符的使用

```c++
#include<iostream>
using namespace std;
int main()
{
  char st[40];
  scanf("%s",st);
  cout << "st= " << st;
}
```

例4：非格式符的使用

```c++
#include<iostream>
using namespace std;
int main()
{
  int a, b,c;
  scanf("%d,%d,%d", &a, &b,&c);
  cout << "a= " << a << "b= " << b << "c= " << c;
}
```

printf函数的功能是格式化输出任意数据列表,其一般调用格式为:

printf(格式控制符,输出列表)

【说明】

格式控制由输人格式说明和普通字符组成,必须用双引号括起来。

① 格式说明由%和格式字符组成,作用是将要输出的字符转换为指定的格式,如%d，%c等。

② 普通字符是在输出时原样输出的字符,一般在显示时起提示作用。

输出列表是需要输出的一组数据(可以为表达式和变量),各参数之间用“,”分开。要求格式说明和各输出项在数量和类型上要―一对应,否则将会出现意想不到的错误。

| 格式符  | 说明                                                |
| ------- | --------------------------------------------------- |
| d,i     | 以带符号的十进制形式输出整数,正数的(＋)号省略不输出 |
| u       | 以无符号十进制形式输出整数                          |
| x(或X)  | 以十六进制无符号形式输出整数(不输出前导符0x)        |
| o(字母) | 以八进制无符号形式输出整数(不输出前导符数字0)       |
| c       | 输出一个字符                                        |
| s       | 输出字符串                                          |
| f       | 以小数形式输出单,双精度﹐隐含输出6位小数            |
| e(或E)  | 以指数形式输出单、双精度,隐含输出6位小数            |
| g(或G)  | 自动选用%f、%e或%E格式中输出宽度较小的一种使用      |

d格式符使用

 

| 参数       | 说明                                                 |
| ---------- | ---------------------------------------------------- |
| %d         | 输出数字长为变量数值的实际长度                       |
| %md        | 输出m位(不足补空格,大于m位时按实际长度输出）         |
| %一md      | m含义同上。左对齐输出                                |
| %ld        | l(小写宇母)表示输出“长整型”数据                      |
| %mld       | 指定长整型输出宽度m位,左边补空格;否则,按实际位数输出 |
| %0md,%0m1d | 0(数字0)表示位数不足m时补0                           |

例

```c++
int i = 1;
long j = 123;
printf("%d,%2d,%03d,%1d,%_4ld,%05ld", i, i, i, j, j, j);
```

```
输出：1, 1,001,123,_4ld,00123
```

f格式符使用

| 参数   | 说明                                          |
| ------ | --------------------------------------------- |
| %f     | 按实数格式输出,整数部分按实际位数输出,6位小数 |
| %m. nf | 总位数m(含小数点),其中有n位小数               |
| %-m.nf | 同上,左对齐                                   |

s格式符使用

| 参数    | 说明                                           |
| ------- | ---------------------------------------------- |
| %s      | 按实际宽度输出一个字符串                       |
| %ms     | m指定宽度(不足时左补空格,大于时按实际宽度输出) |
| %-ms    | 左对齐,不足时右补空格                          |
| %m. ns  | 输出占m个字符位置,其中字符数最多n个,左补空格   |
| %一m.ns | 同上,右补空格                                  |

练习：某幼儿园里,有5个小朋友编号为1、2、3、4,5,他们按自己的编号顺序围坐在一张圆桌旁。他们身上都有若干个糖果(键盘输入),现在他们做一个分糖果游戏。从1号小朋友开始,将自己的糖果均分三份(如果有多余的糖果,则立即吃掉),自己留一份,其余两份分给他的相邻的两个小朋友。接着2号、3号,4 号、5号小朋友同样这么做。问一轮后,每个小朋友手上分别有多少糖果?

【分析】题目中有5位小朋友﹐他们初始时糖果的数目不确定,用a, b、c,d,e分别存储5个小朋友的糖果数,初始值由键盘输入。

```c++
#include<iostream>
using namespace std;
int main()
{
	int a, b, c, d, e;
	scanf("%d%d%d%d%d", &a, &b, &c, &d, &e);
	// 1号小朋友分糖
	a = a / 3;
	b = b + a;
	e = e + a;
	// 2号小朋友分糖
	b = b / 3;
	c = c + b;
	a = a + b;
	// 3号小朋友分糖
	c = c / 3;
	d = d + c;
	b = b + c;
	// 4号小朋友分糖
	d = d / 3;
	e = e + d;
	c = c + d;
	// 5号小朋友分糖
	e = e / 3;
	a = a + e;
	d = d + e;
	printf("%5d%5d%5d%5d%5d", a, b, c, d, e);
}
```

